{{- $p := .Params -}}
{{- $apps := $p.apps -}}
{{- $data := site.Data.apps -}}
{{- if not (and $apps $data) -}}{{- return -}}{{- end -}}

<style>
  .flinker-apps figure{display:flex;flex-direction:column;align-items:center;width:fit-content;margin-left:auto;margin-right:auto}
  .flinker-apps img.flinker-app-logo{height:64px;width:auto;object-fit:contain}
  @media(min-width:768px){.flinker-apps img.flinker-app-logo{height:72px}}
</style>

<div class="row flinker-apps g-4">
  {{ range $apps }}
    {{- $app := index $data . -}}
    {{- if not $app -}}{{ continue }}{{ end -}}
    <div class="col-6 col-md-3">
      <figure class="py-3 text-center">
        <a href="{{ $app.url }}" target="_blank" rel="noopener" aria-label="Open {{ $app.name }}">
          <img src="{{ $app.logo }}" alt="{{ $app.name }}" class="flinker-app-logo" loading="lazy" decoding="async">
        </a>
        <figcaption class="small mt-2">{{ or $app.caption $app.name }}</figcaption>
      </figure>
    </div>
  {{ end }}
</div>
