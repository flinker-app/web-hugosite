<svg xmlns="http://www.w3.org/2000/svg" width="900" height="220" viewBox="0 0 900 220">
  <defs>
    <filter id="shadow" x="-2%" y="-2%" width="104%" height="104%">
      <feDropShadow dx="0" dy="2" stdDeviation="2" flood-opacity="0.1"/>
    </filter>
    <marker id="arrow" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L8,3 z" fill="#0779ff"/>
    </marker>
    <marker id="arrow-red" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L8,3 z" fill="#ef4444"/>
    </marker>
  </defs>

  <!-- ISO State labels at top -->
  <text x="90" y="22" font-family="Inter, -apple-system, sans-serif" font-size="11" fill="#64748b" text-anchor="middle">Shared</text>
  <line x1="130" y1="18" x2="555" y2="18" stroke="#e2e8f0" stroke-width="1" stroke-dasharray="4,2"/>
  <text x="625" y="22" font-family="Inter, -apple-system, sans-serif" font-size="11" fill="#0779ff" font-weight="600" text-anchor="middle">Published</text>
  <line x1="665" y1="18" x2="800" y2="18" stroke="#0779ff" stroke-width="1" stroke-dasharray="4,2"/>

  <!-- Step 1: Request Publish -->
  <rect x="20" y="45" width="140" height="75" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="90" y="68" font-family="Inter, -apple-system, sans-serif" font-size="10" fill="#64748b" font-weight="500" text-anchor="middle">STEP 1</text>
  <text x="90" y="88" font-family="Inter, -apple-system, sans-serif" font-size="12" fill="#1d1d1f" font-weight="600" text-anchor="middle">Request</text>
  <text x="90" y="103" font-family="Inter, -apple-system, sans-serif" font-size="12" fill="#1d1d1f" font-weight="600" text-anchor="middle">transition</text>
  <text x="90" y="115" font-family="Inter, -apple-system, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">to Published</text>

  <!-- Arrow 1 -->
  <line x1="160" y1="82" x2="190" y2="82" stroke="#0779ff" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Step 2: Validate -->
  <rect x="195" y="45" width="150" height="75" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="270" y="68" font-family="Inter, -apple-system, sans-serif" font-size="10" fill="#64748b" font-weight="500" text-anchor="middle">STEP 2</text>
  <text x="270" y="88" font-family="Inter, -apple-system, sans-serif" font-size="12" fill="#1d1d1f" font-weight="600" text-anchor="middle">Validate</text>
  <text x="270" y="103" font-family="Inter, -apple-system, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">naming · metadata</text>
  <text x="270" y="115" font-family="Inter, -apple-system, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">status · revision</text>

  <!-- Arrow 2 (conditional - compliant?) -->
  <line x1="345" y1="82" x2="375" y2="82" stroke="#0779ff" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="360" y="72" font-family="Inter, -apple-system, sans-serif" font-size="9" fill="#166534" font-weight="500" text-anchor="middle">✓</text>

  <!-- Step 3: Approval (conditional) -->
  <rect x="380" y="45" width="140" height="75" rx="8" fill="#f8fafc" stroke="#96bfff" stroke-width="1.5" stroke-dasharray="4,2" filter="url(#shadow)"/>
  <text x="450" y="68" font-family="Inter, -apple-system, sans-serif" font-size="10" fill="#64748b" font-weight="500" text-anchor="middle">STEP 3</text>
  <text x="450" y="88" font-family="Inter, -apple-system, sans-serif" font-size="12" fill="#1d1d1f" font-weight="600" text-anchor="middle">Approval</text>
  <text x="450" y="103" font-family="Inter, -apple-system, sans-serif" font-size="9" fill="#96bfff" font-weight="500" text-anchor="middle">if policy requires</text>
  <text x="450" y="115" font-family="Inter, -apple-system, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">lead → appointing</text>

  <!-- Arrow 3 -->
  <line x1="520" y1="82" x2="550" y2="82" stroke="#0779ff" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Step 4: Promote -->
  <rect x="555" y="45" width="140" height="75" rx="8" fill="#eff6ff" stroke="#0779ff" stroke-width="2" filter="url(#shadow)"/>
  <text x="625" y="68" font-family="Inter, -apple-system, sans-serif" font-size="10" fill="#0779ff" font-weight="500" text-anchor="middle">STEP 4</text>
  <text x="625" y="88" font-family="Inter, -apple-system, sans-serif" font-size="12" fill="#1d1d1f" font-weight="600" text-anchor="middle">Promote to</text>
  <text x="625" y="105" font-family="Inter, -apple-system, sans-serif" font-size="13" fill="#0779ff" font-weight="700" text-anchor="middle">Published</text>
  <text x="625" y="117" font-family="Inter, -apple-system, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">state transition</text>

  <!-- Arrow 4 -->
  <line x1="695" y1="82" x2="725" y2="82" stroke="#0779ff" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Step 5: Log -->
  <rect x="730" y="45" width="150" height="75" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="805" y="68" font-family="Inter, -apple-system, sans-serif" font-size="10" fill="#64748b" font-weight="500" text-anchor="middle">STEP 5</text>
  <text x="805" y="88" font-family="Inter, -apple-system, sans-serif" font-size="12" fill="#1d1d1f" font-weight="600" text-anchor="middle">Record</text>
  <text x="805" y="103" font-family="Inter, -apple-system, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">compliance evidence</text>
  <text x="805" y="115" font-family="Inter, -apple-system, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">audit trail</text>

  <!-- Rejection branch from Step 2 -->
  <line x1="270" y1="120" x2="270" y2="155" stroke="#ef4444" stroke-width="2"/>
  <line x1="270" y1="155" x2="380" y2="155" stroke="#ef4444" stroke-width="2" marker-end="url(#arrow-red)"/>
  <text x="250" y="142" font-family="Inter, -apple-system, sans-serif" font-size="9" fill="#ef4444" font-weight="500" text-anchor="end">✗</text>

  <!-- Rejection box -->
  <rect x="385" y="140" width="200" height="50" rx="8" fill="#fef2f2" stroke="#ef4444" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="485" y="162" font-family="Inter, -apple-system, sans-serif" font-size="11" fill="#ef4444" font-weight="600" text-anchor="middle">Block transition</text>
  <text x="485" y="178" font-family="Inter, -apple-system, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">record reason · notify requestor</text>

  <!-- Rejection branch from Step 3 (approval rejected) -->
  <line x1="450" y1="120" x2="450" y2="140" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="3,2"/>

  <!-- Label -->
  <text x="450" y="210" font-family="Inter, -apple-system, sans-serif" font-size="11" fill="#64748b" text-anchor="middle">ISO 19650 Release Gate — approval is one step inside the gate, not the gate itself</text>
</svg>
